set height = 64;
set width = 64;
set start = top_left;
set border = wrap;

fn xor = (a, b) => c { c = or(and(-a, b), and(a, -b)); }

fn dir_change = (mem, clock) => (mem_out, dir) {
	dir = xor(mem, clock);
	mem_out = clock;
}

ant main {
	MOV = 1;

	CC = C0;
	C0 = -C0;

	(M2, D1) = dir_change(M2, T2);
	(M3, D2) = dir_change(M3, T3);
	(M7, D0) = dir_change(M7, T7);
}
